import{Q as M,r as p,T as V,k as D,l as _,o as i,f as r,a as c,w as h,F as f,b as e,m as N,e as S,i as b,p as v,u as d,g as A,t as x}from"./app-DaBEuCf8.js";import B from"./Register-PvElFx3r.js";import"./GuestLayout-DTX2aZ3C.js";import"./ApplicationLogo-CY_54yeK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TextInput-BBN4RJwj.js";import"./PrimaryButton-C-YJu6eE.js";const L=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Dashboard",-1),$={class:"py-12"},q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},H={class:"p-6 text-gray-900"},T={class:"min-w-full leading-normal"},U=e("thead",null,[e("tr",null,[e("th",null,"Nombre"),e("th",null,"Email"),e("th",null,"Acciones")])],-1),G=["onClick"],Q=["onClick"],j=e("h2",null,"Editar Perfil",-1),z=e("label",{for:"name"},"Nombre:",-1),I=e("label",{for:"email"},"Email:",-1),J=e("button",{type:"submit"},"Guardar Cambios",-1),oe={__name:"Dashboard",setup(K){const{props:g}=M(),s=p(g.profiles),a=p(!1),o=V({name:"",email:""});let u=null;D(()=>{o.get(route("profiles.index"),{onSuccess:t=>{s.value=t.props.profiles}})});const y=t=>{o.name=t.name,o.email=t.email,u=t.id,a.value=!0},w=()=>{o.put(route("profiles.update",u),{onSuccess:()=>{a.value=!1;const t=s.value.find(l=>l.id===u);t&&(t.name=o.name,t.email=o.email)},onError:t=>{console.error(t)}})},m=()=>{a.value=!1},C=t=>{o.delete(route("profiles.destroy",t),{onSuccess:()=>{s.value=s.value.filter(l=>l.id!==t)},onError:l=>{console.error(l)}})};return(t,l)=>{const k=_("Head"),E=_("AuthenticatedLayout");return i(),r(f,null,[c(k,{title:"Dashboard"}),c(E,null,{header:h(()=>[L]),default:h(()=>[e("div",$,[e("div",q,[e("div",F,[e("div",H,[e("div",null,[e("table",T,[U,e("tbody",null,[(i(!0),r(f,null,N(s.value,n=>(i(),r("tr",{key:n.id},[e("td",null,x(n.name),1),e("td",null,x(n.email),1),e("td",null,[e("button",{onClick:P=>y(n),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"},"Editar",8,G),e("button",{onClick:P=>C(n.id),class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"},"Eliminar",8,Q)])]))),128))])]),a.value?(i(),r("div",{key:0,onClose:m},[j,e("form",{onSubmit:S(w,["prevent"])},[z,b(e("input",{type:"text",id:"name","onUpdate:modelValue":l[0]||(l[0]=n=>d(o).name=n),required:""},null,512),[[v,d(o).name]]),I,b(e("input",{type:"email",id:"email","onUpdate:modelValue":l[1]||(l[1]=n=>d(o).email=n),required:""},null,512),[[v,d(o).email]]),J,e("button",{type:"button",onClick:m},"Cancelar")],32)],32)):A("",!0)])])])])]),c(B)]),_:1})],64)}}};export{oe as default};
